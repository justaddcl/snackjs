type User {
  id: ID! @id
  name: String!
  email: String! @unique
  password: String!
  admin: Boolean!
  dietaryRestrictions: String
  favoriteSnack: String
  userRoles: [UserRole!]! @relation(name: "UserToUserRole", onDelete: CASCADE)
  leadsSmallGroups: [SmallGroup!]!
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
}

type UserRole {
  id: ID! @id
  user: User! @relation(name: "UserToUserRole", onDelete: SET_NULL)
  type: UserRoleType!
  smallGroup: SmallGroup @relation(name: "SmallGroupToUserRole", onDelete: SET_NULL)
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
}

type SmallGroup {
  id: ID! @id
  leader: User!
  members: [UserRole!]! @relation(name: "SmallGroupToUserRole", onDelete: CASCADE)
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
}

enum UserRoleType {
  ADMIN
  DISCIPLESHIP_COMMUNITY_PASTOR
  SMALL_GROUP_LEADER
  SMALL_GROUP_COORDINATOR
  DISCIPLESHIP_COMMUNITY_COORDINATOR
  SMALL_GROUP_MEMBER
}